<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Hackathon: Ebiose - Corentin LEGER</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="Hackathon: Ebiose" />
<meta property="og:description" content="Introduction Participated to a project called Ebiose during a 2 days hackathon with a team of 4 people. It focuses on a multi-language-based-agent system to solve tasks. In this system, agents are composed of LLM (e.g. GPT-3.5) coupled with a specific prompt. The structure of the multi-agent system followes a predetermined sequence, where one agent answers a question, another verifies the answer, and a final agent synthesizes both responses. This collaboration is inspired by the Autogen Framework, emphasizing coordinated efforts among agents." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/ebiose/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-17T11:00:59-04:00" />
<meta property="article:modified_time" content="2023-11-17T11:00:59-04:00" /><meta property="og:site_name" content="My cool site" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hackathon: Ebiose"/>
<meta name="twitter:description" content="Introduction Participated to a project called Ebiose during a 2 days hackathon with a team of 4 people. It focuses on a multi-language-based-agent system to solve tasks. In this system, agents are composed of LLM (e.g. GPT-3.5) coupled with a specific prompt. The structure of the multi-agent system followes a predetermined sequence, where one agent answers a question, another verifies the answer, and a final agent synthesizes both responses. This collaboration is inspired by the Autogen Framework, emphasizing coordinated efforts among agents."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://example.org/posts/ebiose/" /><link rel="prev" href="http://example.org/posts/parallezliationtutorial/" /><link rel="next" href="http://example.org/posts/er_mrl/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Hackathon: Ebiose",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/example.org\/posts\/ebiose\/"
        },"genre": "posts","keywords": "LLMs, Python, Genetic Algorithms","wordcount":  841 ,
        "url": "http:\/\/example.org\/posts\/ebiose\/","datePublished": "2023-11-17T11:00:59-04:00","dateModified": "2023-11-17T11:00:59-04:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Corentin"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Corentin LEGER">Corentin LEGER</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/about"> About </a><a class="menu-item" href="/posts/"> Projects </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Corentin LEGER">Corentin LEGER</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/about" title="">About</a><a class="menu-item" href="/posts/" title="">Projects</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Hackathon: Ebiose</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Corentin</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-11-17">2023-11-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;841 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#methodology">Methodology</a></li>
        <li><a href="#results">Results</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h3 id="introduction">Introduction</h3>
<p>Participated to a project called Ebiose during a 2 days <a href="https://hackatechbordeaux.inria.fr/" target="_blank" rel="noopener noreffer ">hackathon</a> with a team of 4 people. It focuses on a multi-language-based-agent system to solve tasks. In this system, agents are composed of LLM (e.g. GPT-3.5) coupled with a specific prompt. The structure of the multi-agent system followes a predetermined sequence, where one agent answers a question, another verifies the answer, and a final agent synthesizes both responses. This collaboration is inspired by the <a href="https://microsoft.github.io/autogen/" target="_blank" rel="noopener noreffer ">Autogen Framework</a>, emphasizing coordinated efforts among agents. In this work, we refer to a group of agents as Individuals.</p>
<p>To enhance the performance of these Individuals, an evolutionary algorithm is employed. The agents of an Individual, comprising an LLM and a prompt, undergo improvement through prompt evolution. To do so, we use the <a href="https://arxiv.org/pdf/2309.08532.pdf" target="_blank" rel="noopener noreffer ">EvoPrompt</a> method. We first create a population of Individuals, each consisting of three agents (LLM + prompt). Evaluation on a dataset yields the fitness of each Individual. The best-performing Individuals serve as parents, generating offspring through crossovers and mutations of their agents&rsquo; prompts. Text data operations, such as crossovers and mutations, are executed using an LLM with instructions for prompt fusion and modification.</p>
<h3 id="methodology">Methodology</h3>
<p>We tested our method on the <a href="https://huggingface.co/datasets/gsm8k" target="_blank" rel="noopener noreffer ">gmsk8k</a> dataset (mathematical questions). We evolved during 20 iterations a population of 25 Individuals, each comprising three agents: actor, critic, and synthesis (utilizing GPT-3.5 as their LLM).
The algorithm begins with the generation of an initial population of 25 Individuals. The initial prompts of their agents have been generated with GPT-4.</p>
<h5 id="examples-of-gpt-4-initial-population-generator-prompt">Examples of GPT-4 Initial Population Generator Prompt:</h5>
<p><strong>Actor agent:</strong>
&ldquo;Generate 25 different prompts optimized for solving mathematical problems that I can apply to solve any math problem.&rdquo;</p>
<p><strong>Synthesis agent:</strong>
&ldquo;Continue this list of example prompts: Analyze the proposed solution and its critique to obtain a better solution, Summarize the results provided in a synthetic manner.”</p>
<p>Then we start the evolutionary process, by testing the performance of this population of individuals on the dataset. The evaluation of an Individual on one question involves the actor answering the question, the critic assessing the response, and the synthesis agent considering the entire conversation to return the final answer. Additionally, each Individual has a prompt to format the final answer. The fitness of an Individual is then defined as the percentage of correct answers on the whole dataset, enabling the ranking of all individuals.</p>
<p>Classical genetic algorithm principles guide parent selection based on fitness, followed by prompt mutations within parent groups with the EvoPrompt method. Currently, the prompts evolution is done with GPT-4 (but the questions answering is done with GPT-3.5).</p>
<h5 id="example-of-prompts-evolution-with-evoprompt">Example of prompts evolution with EvoPrompt:</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/mutation_prompt.png"
        data-srcset="/mutation_prompt.png, /mutation_prompt.png 1.5x, /mutation_prompt.png 2x"
        data-sizes="auto"
        alt="/mutation_prompt.png"
        title="mutation_prompt" /></p>
<p>The crossover and mutation method described in EvoPrompt is only applied to agents within individuals. We have chosen the simplest approach to apply it to our multi-agent individuals: the crossover and mutation operator between Individual 1 and 2 is applied to each pair of their actor prompts (Actor 1 / Actor 2), their critic prompts (Critic 1 / Critic 2) and their synthesis prompts (Synthesis 1 / Synthesis 2).</p>
<p>The population size, comprising 25 Individuals, remains constant throughout the entire evolutionary phase. After generating a new sub-population of offspring, it undergoes evaluation on the designated task. Subsequently, only the top-performing 25 individuals are retained from both the original population (from which parents were selected) and the offspring population. These selected individuals then form the updated population.</p>
<p>This entire process (evaluation of a population, selection of parents, creation and evaluation of new offsprings and update of the new population) is repeated for the desired number of evolutionary algorithm iterations.</p>
<h3 id="results">Results</h3>
<p>The preliminary results showcase the evolution of individuals over 20 iterations with 25 agents. Box plots and curves illustrate the distribution of the population performance at each iteration during the evolutionary process.</p>
<h5 id="evolution-of-the-distribution-of-population-performance">Evolution of the distribution of population performance</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/pop_score_evolution.png"
        data-srcset="/pop_score_evolution.png, /pop_score_evolution.png 1.5x, /pop_score_evolution.png 2x"
        data-sizes="auto"
        alt="/pop_score_evolution.png"
        title="pop_score_evolution" /></p>
<p>Here is below an example of prompts of the best individual on the train dataset :</p>
<p><strong>Actor agent:</strong>
&ldquo;Delve into this mathematical puzzle by merging the study of series or sequences with a strategic and theoretical approach. Explore the depths of the problem&rsquo;s complexity by examining the role of logical sequences and recurring patterns, and how they shape the solutions in diverse situations.&rdquo;</p>
<p><strong>Critic agent:</strong>
&ldquo;Investigate different problem-solving approaches with an emphasis on retaining critical nuances without sacrificing speed, aiming to find a balanced method that offers thorough, expeditious resolutions to complicated problems.&rdquo;</p>
<p><strong>Synthesis agent:</strong>
&ldquo;Develop a refined strategy for tackling mathematical challenges by iteratively improving the problem-solving process, utilizing feedback and critical analysis from earlier attempts to ensure a clear and superior resolution is achieved.”</p>
<h5 id="precision-of-the-last-population-individuals-and-gpt-35--gpt-4">Precision of the last population Individuals and GPT-3.5 / GPT-4</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/precision_comparison.png"
        data-srcset="/precision_comparison.png, /precision_comparison.png 1.5x, /precision_comparison.png 2x"
        data-sizes="auto"
        alt="/precision_comparison.png"
        title="precision_comparison" /></p>
<p>The last plot illustrates the precision of each Individual of the final population (iteration 19) on both the  train and test sets on the gsm8k dataset, as well as the precision obtained with GPT 3.5 and GPT 4. As depicted, it demonstrates that the proposed method effectively enhances the precision of GPT 3.5 and that the performance of the best individual is close to the performance of GPT 4 which is a much larger model.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-11-17</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/llms/">LLMs</a>,&nbsp;<a href="/tags/python/">Python</a>,&nbsp;<a href="/tags/genetic-algorithms/">Genetic Algorithms</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/parallezliationtutorial/" class="prev" rel="prev" title="Software: Parallelized Hyper Parameter Search tutorial"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Software: Parallelized Hyper Parameter Search tutorial</a>
            <a href="/posts/er_mrl/" class="next" rel="next" title="Research: Evolving Reservoirs for Meta Reinforcement Learning">Research: Evolving Reservoirs for Meta Reinforcement Learning<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
